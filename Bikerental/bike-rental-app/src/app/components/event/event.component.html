<!-- src/app/components/event/event.component.html -->
<div class="events-container">
  <div class="page-header">
    <h1>Upcoming Events</h1>
    <p>Join us for exciting biking events in your area</p>
  </div>

  <div *ngIf="loading" class="loading">
    <p>Loading events...</p>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && !errorMessage" class="events-list">
    <div *ngFor="let event of events" class="event-card">
      <div class="event-image">
        <img [src]="event.imageUrl || 'assets/images/default-event.jpg'" [alt]="event.title">
      </div>
      <div class="event-info">
        <h3>{{ event.title }}</h3>
        <p class="event-date">
          <strong>When:</strong> {{ formatDate(event.date) }}
        </p>
        <p class="event-location">
          <strong>Where:</strong> {{ event.location }}
        </p>
        <p class="event-description">{{ event.description }}</p>
        <div class="event-footer">
          <div class="participants">
            <span>{{ event.currentParticipants }}/{{ event.maxParticipants }} participants</span>
            <div class="progress-bar">
              <div class="progress" [style.width.%]="(event.currentParticipants / event.maxParticipants) * 100"></div>
            </div>
          </div>
          <button
            (click)="registerForEvent(event.id)"
            [disabled]="event.currentParticipants >= event.maxParticipants"
            class="btn-register"
          >
            Register
          </button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="events.length === 0 && !loading && !errorMessage" class="no-events">
    <p>No upcoming events at this time. Check back later!</p>
  </div>
</div>
